; SIMH PDP-11 Configuration for RSTS/E V10.1 + ADVENT Bootstrap
; Boots from clean image and builds ADVENT from source via tape

; Set CPU type - PDP-11/44 with 4MB memory
set cpu 11/44
set cpu 4M

; No throttle for fast bootstrap
; set throttle 10M

; Disable unused devices
set rk disable
set rl disable
set tm disable
set rx disable
set rp disable
set tq disable
set ptr disable

; TS11 tape drive for source code transfer
set ts enable
attach ts /opt/advent/tapes/advent.tap

; Configure RK07 disk drives (HK controller)
set hk enable
set hk0 RK07
set hk1 RK07

; Attach disk images (base OS images, will be built at runtime)
attach hk0 /opt/advent/disks/rsts0.dsk
attach hk1 /opt/advent/disks/rsts1.dsk

; Configure terminal multiplexer for game players
set dz enable
set dz lines=8
attach dz 2323

; Console on TCP (buffered = don't wait for connection before boot)
set console telnet=2322
set console telnet=buffered

; Auto-answer boot prompts
expect "Today's date?" send "1-JAN-92\r"; continue
expect "Current time?" send "12:00\r"; continue
expect "Start timesharing?" send "Y\r"; continue
expect "Proceed with system startup?" send "Y\r"; continue
expect "Option:" send "\r"; continue

; Boot from HK0
boot hk0
