1	ON ERROR GOTO 25000 &

5	INPUT 'Kb';K% &

10	OPEN '_KB'+NUM1$(K%)+':' AS FILE #1%, MODE 1% &
\	OPEN '_KB:' AS FILE #2%, MODE 1% &
\	FIELD #1%, 1% AS A$ &
\	FIELD #2%, 1% AS A$ &
\	J$=SYS(CHR$(3%)) &

20	GET #1%, RECORD 8192% &
\	PUT #2%+SWAP%(1%), COUNT RECOUNT &
\	GOTO 20 &

30	SLEEP -1% &

40	GET #2%, RECORD 8192% &
\	GOTO 32767 IF ASCII(A$)=28% &
\	PUT #1%+SWAP%(2%), RECORD 4096%, COUNT 1% &
\	GOTO 40 &

25000	RESUME 20 IF ERL=40 &
\	RESUME 30 IF ERL=20 &

32767	J$=SYS(CHR$(2%)) &
\	END &

